<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.101.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Application 性能优化 # Linux 底层优化 # CPU￼ # 进程和 CPU 原理
进程、线程与协程 CPU 调度 中断系统 CPU 缓存 NUMA 性能指标
平均复杂 CPU 使用率：用户 CPU, 系统CPU，iowait, 软中断，硬中断，窃取 CPU，客户 CPU. 上下文切换：自愿切换，非自愿切换 CPU 缓存命中率 性能剖析
top/htop/ps vmstat mpstat pidstat strace perf execsnoop proc 文件系统 调优方法
CPU 绑定 affinity 进程 CPU 资源限制 进程优先级调整 中断负载均衡 CPU 缓存 NUMA 优化 内存 # 内存原理
地址空间 虚拟内存 内存分配与回收 缓存与缓冲区 swap 性能指标
系统内存使用 进程内存使用 缓存与缓冲区命中率 性能剖析
free top sar vmstat cachestat cachetop memleak proc 文件系统 调优方法"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="Application 性能优化 # Linux 底层优化 # CPU￼ # 进程和 CPU 原理
进程、线程与协程 CPU 调度 中断系统 CPU 缓存 NUMA 性能指标
平均复杂 CPU 使用率：用户 CPU, 系统CPU，iowait, 软中断，硬中断，窃取 CPU，客户 CPU. 上下文切换：自愿切换，非自愿切换 CPU 缓存命中率 性能剖析
top/htop/ps vmstat mpstat pidstat strace perf execsnoop proc 文件系统 调优方法
CPU 绑定 affinity 进程 CPU 资源限制 进程优先级调整 中断负载均衡 CPU 缓存 NUMA 优化 内存 # 内存原理
地址空间 虚拟内存 内存分配与回收 缓存与缓冲区 swap 性能指标
系统内存使用 进程内存使用 缓存与缓冲区命中率 性能剖析
free top sar vmstat cachestat cachetop memleak proc 文件系统 调优方法"><meta property="og:type" content="article"><meta property="og:url" content="https://airdb.wiki/deancn/wiki/part2/README/"><meta property="article:section" content="wiki"><meta property="article:modified_time" content="2021-06-18T00:43:53+08:00"><title>Readme | Hugo Book</title><link rel=manifest href=/deancn/manifest.json><link rel=icon href=/deancn/favicon.png type=image/x-icon><link rel=stylesheet href=/deancn/book.min.1639cc58b39d753e5ce211e45ca1950799431f352ff7bd1baadfa7fcedfe8043.css integrity="sha256-FjnMWLOddT5c4hHkXKGVB5lDHzUv970bqt+n/O3+gEM="><script defer src=/deancn/en.search.min.333f14025c1883fb501af780a39d956d233a21074ef25d371d31efe1ec230e6a.js integrity="sha256-Mz8UAlwYg/tQGveAo52VbSM6IQdO8l03HTHv4ewjDmo="></script>
<script defer src=/deancn/sw.min.88dd4d4cec151ac98d07908f50fdd7ec8f64f00877401263316930780e67e544.js integrity="sha256-iN1NTOwVGsmNB5CPUP3X7I9k8Ah3QBJjMWkweA5n5UQ="></script>
<link rel=apple-touch-icon sizes=128x128 href=128x128.jpg><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?65e05e8c0631a0d2802629f8ceb31fee",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e),console.log("欢迎加入，https://airdb.dev"),console.log("Welcome，https://airdb.dev")})()</script><nav class="app-nav pc no-badge"><div class=logo><a href=//airdb.dev/ target=__blank class=dcloud-logo></a>
<a href=./ class="uniapp-logo active"></a></div><div class="search nav-search"><div class=input-wrap><input type=search id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class=clear-button><svg width="26" height="24"><circle cx="12" cy="12" r="11" fill="#ccc"/><path stroke="#fff" stroke-width="2" d="M8.25 8.25l7.5 7.5"/><path stroke="#fff" stroke-width="2" d="M8.25 15.75l7.5-7.5"/></svg></div></div><div class=results-panel></div></div><ul class=nav-url><li><a href=/deancn/wiki/osinit/>初始化</a></li><li><a href=/deancn/wiki/dev/github/>开发手册</a></li><li><a href=/deancn/wiki/kube/>云原生</a></li><li><a href=https://airdb.wiki/redoc/>APIs</a></li><li><a href=/deancn/wiki/dev/coding-style/>其他规范</a></li></ul><ul class=nav-href><li class=ext-link><a href=https://airdb.io/howto/ target=__blank>技术公益</a></li><li class=ext-link><a href=https://github.com/airdb-wiki/hugo-book/discussions target=__blank>需求墙</a></li><li><a href=//github.com/sponsors/airdb target=__blank style=color:#f60!important><img src=https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/45e691f0-4f3d-11eb-b680-7980c8a877b8.png class=heart>赞助我们</a></li></ul><div class=github><a href=//github.com/airdb-wiki/hugo-book target=_blank><img src=https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/44f8d690-4f3d-11eb-b680-7980c8a877b8.svg></a></div></nav></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><ul><li><input type=checkbox id=section-e0cff803e5d463e167eabd49495041ea class=toggle>
<label for=section-e0cff803e5d463e167eabd49495041ea class="flex justify-between"><a href=https://airdb.wiki/deancn/wiki/part1/>工作和生活效率</a></label><ul><li><a href=https://airdb.wiki/deancn/wiki/part1/4-ways-to-learn/>4 Ways to Learn</a></li><li><a href=https://airdb.wiki/deancn/wiki/part1/efficient-communication/>Efficient Communication</a></li><li><a href=https://airdb.wiki/deancn/wiki/part1/m1-ability/>M1 Ability</a></li><li><a href=https://airdb.wiki/deancn/wiki/part1/README/>Readme</a></li><li><a href=https://airdb.wiki/deancn/wiki/part1/okr/>OKR</a><ul><li><a href=https://airdb.wiki/deancn/wiki/part1/okr/method/>工作方法或原则</a></li></ul></li><li><a href=https://airdb.wiki/deancn/wiki/part1/time-management/>时间管理</a></li></ul></li><li><input type=checkbox id=section-d30d3ec74ebbcf69918117bd1b138f86 class=toggle>
<label for=section-d30d3ec74ebbcf69918117bd1b138f86 class="flex justify-between"><a href=https://airdb.wiki/deancn/wiki/part3/>Serverless 实战 - 无服务器编程</a></label><ul></ul></li><li><a href=https://airdb.wiki/deancn/wiki/emoji-list/>Emoji List</a></li><li><a href=https://airdb.wiki/deancn/wiki/kube/1-kubernetes-on-macOS/>1 Kubernetes on MAC Os</a></li><li><a href=https://airdb.wiki/deancn/wiki/kube/2-ingress-exmaple/>2 Ingress Exmaple</a></li><li><a href=https://airdb.wiki/deancn/wiki/kube/5-helm/>5 Helm</a></li><li><a href=https://airdb.wiki/deancn/wiki/kube/9-faq/>9 Faq</a></li><li><a href=https://airdb.wiki/deancn/wiki/kube/helm/>Helm</a></li><li><a href=https://airdb.wiki/deancn/wiki/ops/>Ops</a></li><li><a href=https://airdb.wiki/deancn/wiki/part2/README/ class=active>Readme</a></li><li><a href=https://airdb.wiki/deancn/wiki/part2/snapcraft/>Snapcraft</a></li><li><a href=https://airdb.wiki/deancn/wiki/part2/sre/>Sre</a></li><li><a href=https://airdb.wiki/deancn/wiki/part4/defensive-programming/>Defensive Programming</a></li><li><a href=https://airdb.wiki/deancn/wiki/part4/exec_base64/>Exec Base64</a></li><li><a href=https://airdb.wiki/deancn/wiki/pm/>Pm</a></li><li><a href=https://airdb.wiki/deancn/wiki/saas/pm/>产品学习</a></li><li><a href=https://airdb.wiki/deancn/wiki/emotion/>情感训练</a><ul><li><a href=https://airdb.wiki/deancn/wiki/emotion/l1/>内卷问题</a></li></ul></li></ul><div class=contact-item><div class=contact-smg><div>扫码添加企业微信</div><img src=https://airdb.dev/hugo-book/qrcode.png width=90 height=90></div></div></nav><script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/deancn/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Readme</strong>
<label for=toc-control><img src=/deancn/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#application-性能优化>Application 性能优化</a><ul><li><a href=#linux-底层优化>Linux 底层优化</a><ul><li><a href=#cpu>CPU￼</a></li><li><a href=#内存>内存</a></li><li><a href=#网络>网络</a></li><li><a href=#磁盘io>磁盘IO￼</a></li><li><a href=#文件系统>文件系统</a></li><li><a href=#linux-内核优化>Linux 内核优化</a></li></ul></li><li><a href=#应用层优化>应用层优化</a><ul><li><a href=#应用程序>应用程序</a></li><li><a href=#架构设计>架构设计</a></li><li><a href=#性能监控>性能监控</a></li><li><a href=#性能测试>性能测试</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=application-性能优化>Application 性能优化
<a class=anchor href=#application-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96>#</a></h1><h2 id=linux-底层优化>Linux 底层优化
<a class=anchor href=#linux-%e5%ba%95%e5%b1%82%e4%bc%98%e5%8c%96>#</a></h2><h3 id=cpu>CPU￼
<a class=anchor href=#cpu>#</a></h3><p>进程和 CPU 原理</p><ul><li>进程、线程与协程</li><li>CPU 调度</li><li>中断系统</li><li>CPU 缓存</li><li>NUMA</li></ul><p>性能指标</p><ul><li>平均复杂</li><li>CPU 使用率：用户 CPU, 系统CPU，iowait, 软中断，硬中断，窃取 CPU，客户 CPU.</li><li>上下文切换：自愿切换，非自愿切换</li><li>CPU 缓存命中率</li></ul><p>性能剖析</p><ul><li>top/htop/ps</li><li>vmstat</li><li>mpstat</li><li>pidstat</li><li>strace</li><li>perf</li><li>execsnoop</li><li>proc 文件系统</li></ul><p>调优方法</p><ul><li>CPU 绑定 affinity</li><li>进程 CPU 资源限制</li><li>进程优先级调整</li><li>中断负载均衡</li><li>CPU 缓存</li><li>NUMA 优化</li></ul><h3 id=内存>内存
<a class=anchor href=#%e5%86%85%e5%ad%98>#</a></h3><p>内存原理</p><ul><li>地址空间</li><li>虚拟内存</li><li>内存分配与回收</li><li>缓存与缓冲区</li><li>swap</li></ul><p>性能指标</p><ul><li>系统内存使用</li><li>进程内存使用</li><li>缓存与缓冲区命中率</li></ul><p>性能剖析</p><ul><li>free</li><li>top</li><li>sar</li><li>vmstat</li><li>cachestat</li><li>cachetop</li><li>memleak</li><li>proc 文件系统</li></ul><p>调优方法</p><ul><li>利用缓存与缓冲区</li><li>减少 SWAP 使用</li><li>减少动态内存分配</li><li>优化 NUMA</li><li>限制进程内存资源</li><li>HugePage</li></ul><h3 id=网络>网络
<a class=anchor href=#%e7%bd%91%e7%bb%9c>#</a></h3><p>网络原理</p><ul><li>网络配置</li><li>TCP/IP 协议</li><li>网络收据收发</li><li>高级路由</li><li>网络 QOS</li><li>网络防火墙</li></ul><p>性能指标</p><ul><li>吞吐量：BPS, QPS, PPS</li><li>延迟</li><li>丢包</li><li>TCP 重传</li></ul><p>性能剖析</p><ul><li>ethtool</li><li>sar</li><li>ping</li><li>netstat/ss</li><li>ifstat</li><li>ifconfig</li><li>tcpdump</li><li>iptables</li><li>traceroute</li><li>ipcontrack</li><li>perf</li></ul><p>调优方法</p><ul><li>网卡调优：MTU， 队列长度，链路聚合</li><li>协议调优：HTTP, TCP, overlay</li><li>资源控制：QoS</li><li>内核调优：NAT 优化，功能卸载，负载均衡，DPDK</li></ul><h3 id=磁盘io>磁盘IO￼
<a class=anchor href=#%e7%a3%81%e7%9b%98io>#</a></h3><p>磁盘原理</p><ul><li>磁盘管理</li><li>磁盘内型，RAID 选型</li><li>磁盘接口</li><li>磁盘 I/O 栈</li></ul><p>性能指标</p><ul><li>使用率</li><li>IOPS</li><li>吞吐量</li><li>IO Wait</li></ul><p>性能剖析</p><ul><li>dstat</li><li>sar</li><li>iostat</li><li>pidstat</li><li>iotop</li><li>iolatency</li><li>blktrace</li><li>fio</li><li>perf</li></ul><p>调优方法</p><ul><li>系统调用</li><li>I/O 资源控制, 写对齐</li><li>充分利用缓存</li><li>RAID</li><li>I/O 隔离</li></ul><h3 id=文件系统>文件系统
<a class=anchor href=#%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f>#</a></h3><p>文件原理：</p><ul><li>虚拟文件系统</li><li>文件系统 IO 栈</li><li>文件系统缓</li><li>文件系统种类</li></ul><p>性能指标：</p><ul><li>容量</li><li>IOPS</li><li>缓存命中率</li></ul><p>性能剖析</p><ul><li>df</li><li>strace</li><li>vmstat</li><li>sar</li><li>perf</li><li>proc 文件系统</li></ul><p>调优方法</p><ul><li>文件系统内型</li><li>利用文件系统缓存</li><li>I/O 隔离</li></ul><h3 id=linux-内核优化>Linux 内核优化
<a class=anchor href=#linux-%e5%86%85%e6%a0%b8%e4%bc%98%e5%8c%96>#</a></h3><p>内核原理</p><ul><li>内核态</li><li>模型</li></ul><p>性能指标</p><p>性能剖析</p><ul><li>BPF</li><li>perf</li><li>proc 文件系统</li></ul><p>调优方法</p><ul><li>内核参数</li></ul><h2 id=应用层优化>应用层优化
<a class=anchor href=#%e5%ba%94%e7%94%a8%e5%b1%82%e4%bc%98%e5%8c%96>#</a></h2><h3 id=应用程序>应用程序
<a class=anchor href=#%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f>#</a></h3><p>性能指标</p><ul><li>吞吐量</li><li>响应时间</li><li>资源使用率</li></ul><p>性能剖析</p><ul><li>USE 方法：使用率，饱和度，初五</li><li>进程剖析：进程状态，资源使用率，I/O 剖析， 系统调用，热点函数，动态追踪</li><li>APM</li></ul><p>调优方法</p><ul><li>逻辑优化</li><li>编程语言</li><li>算法调优</li><li>非阻塞 I/O</li><li>利用缓存与缓冲区</li><li>异步处理与并发</li><li>垃圾回收</li></ul><h3 id=架构设计>架构设计
<a class=anchor href=#%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1>#</a></h3><p>空间换时间</p><ul><li>缓存</li><li>缓冲区</li><li>冗余数据</li></ul><p>时间换空间：</p><ul><li>压缩编码</li><li>页面交换</li></ul><p>并行处理</p><ul><li>多线程</li><li>多进程</li><li>协程</li><li>分布式</li></ul><p>异步处理</p><ul><li>异步 I/O</li><li>消息队列</li><li>事件通知</li></ul><p>￼</p><h3 id=性能监控>性能监控
<a class=anchor href=#%e6%80%a7%e8%83%bd%e7%9b%91%e6%8e%a7>#</a></h3><p>时间序列分析</p><ul><li>历史趋势分析</li><li>性能模型构建</li><li>未来趋势预测</li></ul><p>服务调用追踪</p><ul><li>服务调用流程跟踪</li><li>服务调用性能分析</li><li>服务调用链拓扑展示</li></ul><p>数据可视化</p><ul><li>趋势图</li><li>散点图</li><li>热图</li><li>饼图</li></ul><p>告警通知</p><ul><li>阈值选择</li><li>动态阈值</li><li>报警策略</li><li>通知渠道</li></ul><h3 id=性能测试>性能测试
<a class=anchor href=#%e6%80%a7%e8%83%bd%e6%b5%8b%e8%af%95>#</a></h3><p>明确需求</p><ul><li>系统资源需求</li><li>应用程序需求</li></ul><p>环境假设</p><ul><li>合理的假设</li><li>生产环境模拟</li><li>生产负载模拟</li></ul><p>性能测试</p><ul><li>基准测试</li><li>负载测试</li><li>压力测试</li></ul><p>结果分析</p><ul><li>应用程序瓶颈</li><li>数据库瓶颈</li><li>系统资源瓶颈</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/airdb-wiki/hugo-book/commit/0aa3850c435b928f442ed0d5f7b4105f403599c2 title='Last modified by deancn | Thu Jun 17 16:43:53 UTC 2021' target=_blank rel=noopener><img src=/deancn/svg/calendar.svg class=book-icon alt=Calendar>
<span>Thu Jun 17 16:43:53 UTC 2021</span></a></div><div><a class="flex align-center" href=https://github.com/airdb-wiki/hugo-book/edit/main/exampleSite/content/wiki/part2/README.md target=_blank rel=noopener><img src=/deancn/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#application-性能优化>Application 性能优化</a><ul><li><a href=#linux-底层优化>Linux 底层优化</a><ul><li><a href=#cpu>CPU￼</a></li><li><a href=#内存>内存</a></li><li><a href=#网络>网络</a></li><li><a href=#磁盘io>磁盘IO￼</a></li><li><a href=#文件系统>文件系统</a></li><li><a href=#linux-内核优化>Linux 内核优化</a></li></ul></li><li><a href=#应用层优化>应用层优化</a><ul><li><a href=#应用程序>应用程序</a></li><li><a href=#架构设计>架构设计</a></li><li><a href=#性能监控>性能监控</a></li><li><a href=#性能测试>性能测试</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>